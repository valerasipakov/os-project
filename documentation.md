
Набор bash-скриптов для анализа результатов тестов по заданной группе и предмету.
Скрипт может работать:

- по конкретному тесту (`--test=TEST-1` и т.п.);
- по всем тестам предмета сразу, если флаг `--test` не указан.

Основной функционал (Часть I):

- поиск студента(ов) с максимальным числом правильных ответов;
- поиск студента(ов) с максимальным числом неправильных ответов.

Количество вопросов по предметам зашито в коде:

- `Цирковое_Дело` — 25;
- `Поп-Культуроведение` — 5.

## Структура проекта

```
.
├── data/
│   └── labfiles-25/
│       ├── Цирковое_Дело/tests/TEST-1 …
│       └── Поп-Культуроведение/tests/TEST-1 …
├── src/
│   └── scripts/
│       ├── main.sh
│       └── lib/
│           ├── io.sh
│           ├── paths.sh
│           ├── parser.sh
│           └── stats.sh
├── README.md
└── documentation.md
```

## Требования

- bash ≥ 4
- Unix-подобная ОС (Linux/macOS)

## Быстрый старт

```bash
chmod +x src/scripts/main.sh src/scripts/lib/*.sh

./src/scripts/main.sh \
  --group=Ae-21-22 \
  --subject="Цирковое_Дело" \
  --test=TEST-1 \
  --action=both

./src/scripts/main.sh \
  --group=Ae-21-22 \
  --subject="Цирковое_Дело" \
  --action=both
```

Без флагов скрипт спросит значения интерактивно
(группа → предмет → тест или «все тесты» → режим вывода).

## Запуск и флаги

```bash
./src/scripts/main.sh [--group=<строка>] [--subject=<строка>] [--test=<имя>] [--action=<режим>]
```

| Флаг      | Пример                                  | Обязательно | Назначение                                                                 |
|----------|------------------------------------------|------------|----------------------------------------------------------------------------|
| `--group`   | `--group=Ae-21-22`                      | нет        | Номер группы. Если не задан — будет запрошен интерактивно.                |
| `--subject` | `--subject="Цирковое_Дело"`             | нет        | Предмет: `Цирковое_Дело` или `Поп-Культуроведение`.                        |
| `--test`    | `--test=TEST-1`                         | нет        | Имя файла теста (`TEST-1` … `TEST-4`). Если не указан — берутся все тесты предмета. |
| `--action`  | `--action=both`                         | нет        | Режим вывода: `max-correct`, `max-wrong`, `both` (по умолчанию — `both`). |

## Учёт данных

Формат строк в файлах тестов:

```
<Группа>;<ФамилияИО>;<Дата>;<Правильных>;<Оценка>
```

- Правильные ответы:
  - учитываются только попытки с положительной оценкой: `Оценка > 2`;
  - для таких попыток берётся поле `<Правильных>` и суммируется по студенту.

- Неправильные ответы:
  - учитываются все попытки (независимо от оценки);
  - для каждой строки:
    `Неправильных_в_попытке = <Всего_вопросов_по_предмету> - <Правильных>`;
  - итог по студенту — сумма `Неправильных_в_попытке` по всем его попыткам.

Количество вопросов по предмету задаётся функцией `get_total_questions()`
(`Цирковое_Дело = 25`, `Поп-Культуроведение = 5`).

## Примеры использования

Максимум правильных и неправильных по одному тесту:

```bash
./src/scripts/main.sh \
  --group=Ae-21-22 \
  --subject="Поп-Культуроведение" \
  --test=TEST-1 \
  --action=both
```

Только максимум правильных по всем тестам предмета:

```bash
./src/scripts/main.sh \
  --group=Ae-21-22 \
  --subject="Цирковое_Дело" \
  --action=max-correct
```

Только максимум неправильных по всем тестам предмета:

```bash
./src/scripts/main.sh \
  --group=Ae-21-22 \
  --subject="Цирковое_Дело" \
  --action=max-wrong
```

## Переменные окружения

- `DATA_ROOT` — корень каталога с данными (по умолчанию `./data/labfiles-25`):

```bash
DATA_ROOT=/abs/path/to/labfiles-25 \
  ./src/scripts/main.sh --group=Ae-21-22 --subject="Цирковое_Дело" --test=TEST-1
```

## Вывод (пример)

```text
Группа: Ae-21-22
Предмет: Цирковое_Дело
Тесты: все
Студент(ы) с максимальным числом правильных (42): ShamitovaAA
Студент(ы) с максимальным числом неправильных (33): RusinAN
```

Если у нескольких студентов значение совпадает, выводятся все.
