# Техническое задание: Расширенная функциональность системы

## Функциональные требования

### 2.1 Система досье студентов

#### 2.1.1 Просмотр досье студента

**Описание:** Возможность просмотра досье студента по фамилии

**Входные данные:**
- Фамилия студента (обязательно)
- Предмет (опционально, для проверки существования студента)

**Выходные данные:**
- Полное досье студента в формате:
```
Досье студента: Иванов И.И.
Предмет: Поп-Культуроведение
Дата создания: 2024-10-15
Последнее обновление: 2024-10-20

Фразы:
1. Отлично проявил себя на семинаре 12.10.2024
2. Активно участвовал в групповом проекте
3. [Фраза 3...]
```

**Бизнес-правила:**
- Если досье не существует - выводить сообщение "Досье не найдено"
- Если досье пустое - выводить "Досье пустое"
- Проверять существование студента в системе перед показом досье

#### 2.1.2 Добавление фраз в досье

**Описание:** Возможность добавления новых фраз в досье студента

**Входные данные:**
- Фамилия студента (обязательно)
- Новая фраза (обязательно)
- Предмет (опционально)

**Выходные данные:**
- Подтверждение успешного добавления
- Обновленное досье с новой фразой

**Бизнес-правила:**
- Автоматическое создание досье при первом добавлении фразы
- Автоматическая нумерация фраз
- Добавление даты последнего обновления
- Проверка существования студента в системе

### 2.2 Расчет средней оценки студента

#### 2.2.1 Вывод средней оценки по предмету

**Описание:** Расчет и вывод средней оценки студента по всем тестам предмета

**Входные данные:**
- Фамилия студента (обязательно)
- Предмет (обязательно)

**Выходные данные:**
- Средняя оценка с точностью до 2 знаков после запятой
- Количество тестов, в которых участвовал студент
- Список оценок по тестам (опционально)

**Формат вывода:**
```
Студент: Иванов И.И.
Предмет: Поп-Культуроведение
Участвовал в тестах: 3
Оценки: 5, 4, 5
Средняя оценка: 4.67
```

**Бизнес-правила:**
- Расчет: `СРЕДНЯЯ = SUM(оценки) / COUNT(тесты)`
- Округление до 2 знаков после запятой
- Если студент не найден в тестах предмета - сообщение "Студент не найден"
- Учитывать только тесты, где студент присутствует

---

## Технические требования

### Структура данных

#### Хранение досье
```
DATA_ROOT/
├── labfiles-25/
│   ├── Цирковое_Дело/
│   │   ├── tests/
│   │   └── dossiers/          # Новая директория
│   │       ├── Иванов.dossier
│   │       └── Петров.dossier
│   └── Поп-Культуроведение/
│       ├── tests/
│       └── dossiers/
│           ├── Сидоров.dossier
│           └── Иванов.dossier
```

#### Формат файла досье
```
Фамилия: Иванов
Имя: Иван Иванович
Предмет: Поп-Культуроведение
Дата создания: 2024-10-15 14:30:00
Последнее обновление: 2024-10-20 16:45:00

ФРАЗЫ:
1. Отлично проявил себя на семинаре 12.10.2024
2. Активно участвовал в групповом проекте
3. Показал глубокое понимание темы поп-культуры
```

### Интерфейс командной строки

#### Новые аргументы:
```bash
# Для работы с досье
--student=ФАМИЛИЯ          # Фамилия студента (обязательно)
--action=view-dossier      # Просмотр досье
--action=add-dossier       # Добавление в досье
--phrase="Текст фразы"     # Фраза для добавления (для add-dossier)

# Для расчета средней оценки
--student=ФАМИЛИЯ          # Фамилия студента (обязательно)  
--subject=ПРЕДМЕТ          # Предмет (обязательно)
--action=average-grade     # Расчет средней оценки
```

#### Примеры использования:
```bash
# Просмотр досье
./main.sh --student=Иванов --subject="Поп-Культуроведение" --action=view-dossier

# Добавление фразы в досье
./main.sh --student=Иванов --subject="Поп-Культуроведение" --action=add-dossier --phrase="Отлично ответил на вопросы"

# Расчет средней оценки
./main.sh --student=Иванов --subject="Поп-Культуроведение" --action=average-grade
```

---